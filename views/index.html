<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>index</title>
    <!-- build:css styles/main.css -->
    <link href="plugins/layui/css/layui.css" rel="stylesheet">
    <link href="styles/main.css" rel="stylesheet">
    <!-- endbuild -->
</head>

<body>
    <div class="layui-layout layui-layout-admin">
        <header class="layui-header header header-demo">
            <div class="layui-main">
                <a class="logo" href="/">
                    <img src="./images/logo.png" alt="layui">
                </a>
                <h2 class="title">缺钱么运维支撑管理系统</h2>
                <ul class="navigation-nav" lay-filter="">
                    <li><a>欢迎您，Ls</a></li>
                    <li id="updatePassword-btn"><span><i class="iconfont icon-xiugaimima"></i></span><span>修改密码</span></li>
                    <li onclick="window.location.href='modules/login/login.html'"><span><i class="iconfont icon-tuichu"></i></span><span>退出登录</span></li>
                    <span class="layui-nav-bar" style="left: 68px; top: 55px; width: 0px; opacity: 0;"></span>
                </ul>
            </div>
        </header>
        <nav class="layui-side layui-bg-black">
            <ul class="layui-nav layui-nav-tree site-demo-nav" lay-filter="menu">
                <li class="layui-nav-item">
                    <a href=""><i class="iconfont icon-yunyingshujuzhongduan" ></i>运营数据监测</a>
                    <dl class="layui-nav-child">
                        <dd qqm-title="运营每时粒度监控" qqm-menu="qqm.monitor">
                            <a>运营每时粒度监控</a>
                        </dd>
                        <dd qqm-title="运营基础数据" qqm-menu="qqm.baseNumber">
                            <a>运营基础数据</a>
                        </dd>
                    </dl>
                </li>
                <li class="layui-nav-item">
                    <a href=""><i class="iconfont icon-hangdongrizhi"></i>后台log日志</a>
                    <dl class="layui-nav-child">
                        <dd qqm-title="线上服务器" qqm-menu="qqm.onlineServer">
                            <a>线上服务器</a>
                        </dd>
                        <dd qqm-title="线下服务器" qqm-menu="qqm.offlineServer">
                            <a>线下服务器</a>
                        </dd>
                        <dd qqm-title="实时log" qqm-menu="qqm.log">
                            <a>实时log</a>
                        </dd>
                    </dl>
                </li>
                <li class="layui-nav-item"><a href=""><i class="iconfont icon-gongju"></i>运维工具</a>
                    <dl class="layui-nav-child">
                        <dd qqm-title="Gitlab代码管理" onclick="window.open('http://gitlab.gz.queqianme.com/')">
                            <a>Gitlab代码管理</a>
                        </dd>
                        <dd qqm-title="自动化构建" onclick="window.open('http://jenkins.gz.queqianme.com:8182/')">
                            <a>自动化构建</a>
                        </dd>
                        <dd qqm-title="Bug管理" onclick="window.open('http://redmine.gz.queqianme.com:8787/redmine/login')">
                            <a>Bug管理</a>
                        </dd>
                    </dl>
                </li>
                <li class="layui-nav-item"><a href=""><i class="iconfont icon-jiankongfuwu"></i>机房服务器监控</a>
                    <dl class="layui-nav-child">
                        <dd qqm-title="cpu温度" qqm-menu="qqm.cpu">
                            <a>cpu温度</a>
                        </dd>
                        <dd qqm-title="网络" qqm-menu="qqm.internet">
                            <a>网络</a>
                        </dd>
                    </dl>
                </li>
                <li class="layui-nav-item"><a href=""><i class="iconfont icon-12-01"></i>系统管理</a>
                    <dl class="layui-nav-child">
                        <dd qqm-title="退出系统" qqm-menu="#">
                            <a>退出系统</a>
                        </dd>
                    </dl>
                </li>
            </ul>
        </nav>
        <!-- 内容区域 -->
        <div class="layui-body" style="bottom: 0;border-left: solid 2px #1AA094;" id="admin-body">
            <div class="layui-tab admin-nav-card layui-tab-brief qqm-module" lay-filter="admin-tab">
                <ul class="layui-tab-title">
                    <li class="layui-this" lay-id="index">
                        <i class="layui-icon" aria-hidden="true">&#xe630;</i>
                        <cite>控制面板</cite>
                    </li>
                </ul>
                <div class="qqm-breadcrumb">
                    <span class="layui-breadcrumb">
                    </span>
                </div>
                <div class="qqm-content" id="qqm-content">
                    <section>
                        <h5 class="qqm-welcome-title">欢迎进入admin，请点击左侧菜单开始操作吧！</h5>
                    </section>
                </div>
            </div>
        </div>
        <footer class="layui-footer footer footer-doc">
            <div class="layui-main">
                <p>Copyright©2015 广东缺钱么网络科技有限公司</p>
            </div>
        </footer>
    </div>
    <!--修改密码弹窗-->
    <div id="updatePassword" class="index-updatePassword qqm-info-default">
        <form class="layui-form" action="">
            <div class="layui-form-item">
                <label class="layui-form-label">账号</label>
                <div class="layui-input-block qqm-input-required">
                    <input type="text" name="username" lay-verify="required" autocomplete="off" placeholder="请输入账号" class="layui-input">
                </div>
            </div>
            <div class="layui-form-item">
                <label class="layui-form-label">旧密码</label>
                <div class="layui-input-block qqm-input-required">
                    <input type="password" name="oldPassword" lay-verify="required" autocomplete="off" placeholder="请输入旧密码" class="layui-input">
                </div>
            </div>
            <div class="layui-form-item">
                <label class="layui-form-label">新密码</label>
                <div class="layui-input-block qqm-input-required">
                    <input type="password" name="password" lay-verify="required" autocomplete="off" placeholder="请输入新密码" class="layui-input">
                </div>
            </div>
            <div class="layui-form-item">
                <label class="layui-form-label">确认密码</label>
                <div class="layui-input-block qqm-input-required">
                    <input type="password" name="confirmPassword" lay-verify="required" autocomplete="off" placeholder="请确认密码" class="layui-input">
                </div>
            </div>
            <div class="layui-form-item">
                <div class="layui-input-block">
                    <button class="layui-btn" lay-submit="" lay-filter="updatePassword">提交</button>
                </div>
            </div>
        </form>
    </div>
    <script type="text/javascript" src="plugins/layui/layui.js"></script>
    <script type="text/javascript" src="app.js?__inline"></script>
    <!-- build:js scripts/main.js -->
    <script type="text/javascript" src="plugins/_.js"></script>
    <script type="text/javascript" src="scripts/index.js?__inline"></script>
    <!-- endbuild -->
    <script type="text/javascript">
    layui.use(['layer', 'util', 'element', '_route', 'form', '_tab'], function() {
        var layer = layui.layer,
            util = layui.util,
            element = layui.element(),
            form = layui.form(),
            _route = layui._route,
            tab = layui._tab;

        window.$ = layui.jquery;
        tab = tab({
            elem: '.admin-nav-card' //设置选项卡容器
                ,
            contextMenu: true
        });
        // 监听修改密码点击
        $('#updatePassword-btn').on('click', function() {
            layer.open({
                type: 1,
                shadeClose: true,
                title: '修改密码',
                offset: '20%',
                content: $('#updatePassword')
            });
        });

        // 监听导航点击
        element.on('nav(menu)', function(elem) {
            var mUrl = elem.attr('qqm-menu'),
                mTitle = elem.attr('qqm-title'),
                mT = {
                    title: mTitle,
                    url: mUrl
                };
            !_.isEmpty(mUrl) && _route.go(mUrl);
            tab.tabAdd(mT);
        });
        element.on('tab(admin-tab)', function(data) {
            var tabUrl = $(this).attr("lay-id");
            !_.isEmpty(tabUrl) && _route.go(tabUrl);

        });
        // 监听修改密码提交
        form.on('submit(updatePassword)', function(data) {
            layer.alert(JSON.stringify(data.field), {
                title: '最终的提交信息'
            });
            return false;
        });

        // 初始化欢迎页面
        _route.setBreadcrumb(null, {
            hide: true
        });

        $('#qqm-content').css('height', $(window).height() - 200);
        $(window).resize(function() {
            $('#qqm-content').css('height', $(window).height() - 200);
        });

    });
    </script>
</body>

</html>
